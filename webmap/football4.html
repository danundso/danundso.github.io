<!DOCTYPE html>
<html>
<head>
    <title>Football Teams</title>
    <link rel="icon" href="ball.png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
     integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
     crossorigin=""/>
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0/themes/pepper-grinder/jquery-ui.css"/>
     
     <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
     integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
     crossorigin=""></script>
    <script src="AllFiveLeaguesTry0301.js"
     crossorigin=""></script>

	<meta charset="utf-8">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
  <style>#slider { margin: 10px; }  </style>
  <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

     
     <style>
      #map {position: absolute; top: 0; bottom: 0 ; left: 0; right: 0;}
      </style>
    
</head>
<body>
  <div id = "map"></div>
  <div id="time-slider"></div>
  <script>
    var map = L.map('map').setView([45, 3], 5);
    
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    minZoom: 3,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);
    
var geojsonFeature = {
    "type": "Feature",
    "properties": {
        "icon": "ball.png"
    },
    "geometry": {
        "type": "Point",
        "coordinates": [0, 0]
    }
};

var spainLayer = L.geoJSON(teams, {
  filter: function(feature) {
    return feature.properties.Country === "Spain" || feature.properties.Country === "Spain ";
  },
  pointToLayer: function(feature, latlng) {
    var marker = L.marker(latlng, {
      icon: L.icon({
        iconUrl: feature.properties.icon || "ball.png",
        iconSize: [25],
        iconAnchor: [12, 12]
      })
    });

    marker.bindPopup("Team: " + feature.properties.Team + "<br>" +
                      "Country: " + feature.properties.Country,
                                {className: 'custom-popup'});

    return marker;
  }
}).addTo(map);

var italyLayer = L.geoJSON(teams, {
  filter: function(feature) {
    return feature.properties.Country === "Italy ";
  },
  pointToLayer: function(feature, latlng) {
    var marker = L.marker(latlng, {
      icon: L.icon({
        iconUrl: feature.properties.icon || "ball.png",
        iconSize: [25],
        iconAnchor: [12, 12]
      })
    });

    marker.bindPopup("Team: " + feature.properties.Team + "<br>" +
                      "Country: " + feature.properties.Country,
                          {className: 'custom-popup'});

    return marker;
  }
}).addTo(map);

var englandLayer = L.geoJSON(teams, {
  filter: function(feature) {
    return feature.properties.Country === "England";
  },
  pointToLayer: function(feature, latlng) {
    var marker = L.marker(latlng, {
      icon: L.icon({
        iconUrl: feature.properties.icon || "ball.png",
        iconSize: [25],
        iconAnchor: [14, 14]
      })
    });

    marker.bindPopup("Team: " + feature.properties.Team + "<br>" +
                      "Country: " + feature.properties.Country,
                         {className: 'custom-popup'});

    return marker;
  }
}).addTo(map);

var franceLayer = L.geoJSON(teams, {
  filter: function(feature) {
    return feature.properties.Country === "France";
  },
  pointToLayer: function(feature, latlng) {
    var marker = L.marker(latlng, {
      icon: L.icon({
        iconUrl: feature.properties.icon || "ball.png",
        iconSize: [25],
        iconAnchor: [12, 12]
      })
    });

    marker.bindPopup("Team: " + feature.properties.Team + "<br>" +
                      "Country: " + feature.properties.Country,
                         {className: 'custom-popup'});

    return marker;
      }
    }).addTo(map);


var germanyLayer = L.geoJSON(teams, {
  filter: function(feature) {
    return feature.properties.Country === "Germany";
  },
  pointToLayer: function(feature, latlng) {
    var marker = L.marker(latlng, {
      icon: L.icon({
        iconUrl: feature.properties.icon || "ball.png",
        iconSize: [25],
        iconAnchor: [12, 12]
      })
    });

    marker.bindPopup("Team: " + feature.properties.Team + "<br>" +
                      "Country: " + feature.properties.Country,
                        {className: 'custom-popup'});

    return marker;
  }
}).addTo(map);
      
  var group = L.layerGroup([spainLayer, italyLayer, englandLayer, franceLayer, germanyLayer]);
      
      var baseLayers = {
 "All Teams": group
 };

var overlayLayers = {
 "Spain": spainLayer,
 "Italy": italyLayer,
 "England": englandLayer,
 "France": franceLayer,
 "Germany": germanyLayer
 };

 L.control.layers(baseLayers, overlayLayers).addTo(map);
	  
 
	  
	  $("#slider").slider({
    start: new Date("2021-01-01"),
    end: new Date("2022-01-01"),
    step: {
        days: 1
    },
    range: {
        min: new Date("2021-01-01"),
        max: new Date("2022-01-01")
    },
    format: "YYYY-MM-DD",
    snap: true,
    realtime: true
});
	  
$("#slider").on("slide", function(event, values) {
    var currentTime = moment(values[0]).format("YYYY-MM-DD");
    // Update your map based on the current time
});
	  
     
	
      

      
      
// L.geoJSON(teams, {
//    pointToLayer: function (feature, latlng) {
//        var iconUrl = 'englandlogos/manu.png';
//        var markerOptions = {
//            icon: L.icon({
//                iconUrl: iconUrl,
//                iconSize: [20], // set the size of the icon
//                iconAnchor: [10, 10], // set the anchor point of the icon
//            })
//        };
//        var marker = L.marker(latlng, markerOptions);
//        marker.bindPopup("Team: " + feature.properties.Team + "<br>" + 
//                         "Country: " + feature.properties.Country);
//        return marker;
//    }
// }).addTo(map);
     
//          function onEachFeature(feature, layer) {
//    if (feature.properties && feature.properties.Team && feature.properties.Country) {
//            layer.bindPopup("Team: " + feature.properties.Team + "<br>" + 
//                            "Country: " + feature.properties.Country);
//       }}
    
    
      
 //     L.geoJSON(teams, {
 //   onEachFeature: onEachFeature
  // }).addTo(map);
        

      
  //    var Logo = L.icon({
  //  iconUrl: 'englandlogos/manu.png',
           
  //  iconSize: [25], // size of the icon

    //  });
      
    //  L.marker([51.5, -0.09], {icon: Logo}).addTo(map);
      
  </script>
    
    <style>
      .custom-popup .leaflet-popup-content-wrapper {
  background-color: #e6e6fa; /* light purple */
  font-size: 16px; /* larger font size */
}

.custom-popup .leaflet-popup-tip {
  background-color: #e6e6fa; /* light purple */
}

.custom-popup .leaflet-popup-content {
  margin: 10px 10px 10px 10px; /* increase padding */
}
        
   /*  .leaflet-control-layers {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: #d8bfd8;
  border: 2px solid #fff;
  border-radius: 5px;
  padding: 5px;
  font-family: "Lucida Sans", sans-serif;
  font-size: 14px;
  
} */
    </style>
    
  </body>
</html>
